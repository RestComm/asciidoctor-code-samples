import java.net.URL;
import javax.net.ssl.HttpsURLConnection;
import java.io.*;
import java.util.Base64;

public class JavaSampleClass {
   // Change 'mycompany' to the desired restcomm organization
   public static final String restcommDomain = "mycompany.restcomm.com";
   // Provide your Account Sid and Auth Token from your Console Account page
   public static final String accountSid = "YourAccountSid";
   public static final String authToken = "YourAuthToken";

   public static void main(String[] args) throws Exception {
      String userAndPass = accountSid + ':' + authToken;
      String encoded = Base64.getEncoder().encodeToString(userAndPass.getBytes());

      URL url = new URL(("https://" + restcommDomain + "/restcomm/2012-04-24/${attrs.urlSuffix}");
      HttpsURLConnection conn = (HttpsURLConnection)url.openConnection();
      conn.setRequestProperty("Authorization", "Basic " + encoded);
      conn.setRequestMethod("${attrs.httpMethod}");
      conn.setDoOutput(true);
      DataOutputStream os = new DataOutputStream(conn.getOutputStream());

      // Update POST parameters accordingly
      os.writeBytes("${attrs.normalizedPostParameters}");
      os.close();

      BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));
      String inputLine;
      while ((inputLine = in.readLine()) != null)
         System.out.println(inputLine);
      in.close();
  }
}
